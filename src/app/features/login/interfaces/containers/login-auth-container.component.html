<div class="login-auth">
  <img alt="Wave pattern" class="login-auth__wave-pattern" src="/images/wave-pattern.svg" />

  <div class="login-auth__container">
    <div class="login-auth__welcome">
      <img alt="Profile icon" class="login-auth__profile-icon" src="/images/profile-icon.svg" />
      <h1 class="login-auth__welcome-title">¡Te damos la bienvenida!</h1>

      <p class="login-auth__welcome-description">
        Accede a todas las herramientas para facilitar tu trabajo. Por favor, inicia sesión con tus credenciales para
        continuar.
      </p>
    </div>

    <div class="login-auth__form-container">
      <img alt="Kaufmann" class="login-auth__logo" src="/images/logo.svg" />

      <div class="login-auth__form-title">
        <h1 class="login-auth__title">Inicio de sesión</h1>
        <p class="login-auth__description">Ingresa tus credenciales para acceder a tu cuenta.</p>
      </div>

      <form (submit)="handleSignIn()" [formGroup]="form" class="login-auth__form">
        <div class="form-group">
          <label for="username" class="form-label">Usuario</label>

          <input
            [class.is-invalid]="getErrorMessage('username')"
            class="form-control"
            formControlName="username"
            id="username"
            label="Usuario"
            name="username"
            placeholder="Ingrese su usuario"
          />

          <div class="invalid-feedback">{{ getErrorMessage('username') }}</div>
        </div>

        <div class="form-group">
          <label for="password" class="form-label">Contraseña</label>

          <div class="input-group">
            <input
              [class.is-invalid]="getErrorMessage('password')"
              [type]="showPassword ? 'text' : 'password'"
              class="form-control"
              formControlName="password"
              id="password"
              label="Contraseña"
              name="password"
              placeholder="Ingrese su contraseña"
            />

            <span class="input-group-text rounded-end-3" id="password" (click)="handleTogglePasswordVisibility()">
              <ng-icon [name]="showPassword ? 'showPasswordIcon' : 'hidePasswordIcon'" />
            </span>

            <div class="invalid-feedback">{{ getErrorMessage('password') }}</div>
          </div>
        </div>

        @if (errorMessage) {
          <div class="alert alert-danger d-flex align-items-center" role="alert">
            <ng-icon class="flex-shrink-0 me-2" name="errorIcon" />
            El usuario y/o contraseña no son correctos. Vuelve a intentarlo.
          </div>
        }

        <button class="btn btn-primary w-100" type="submit">
          <ng-icon name="loginIcon" />
          Iniciar sesión
        </button>
      </form>
    </div>
  </div>
</div>
